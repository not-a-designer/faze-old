<ion-menu [content]="content">

  <ion-header>
    <ion-toolbar id="menu-toolbar">
      <ion-title>Settings</ion-title>
      <ion-buttons right>
        <button 
          ion-button 
          icon-right 
          small 
          clear
          menuClose 
          (click)="slideToProfiles()">
          Profiles<ion-icon name="arrow-forward"></ion-icon>
        </button>
      </ion-buttons>
    </ion-toolbar>
    
  </ion-header>

  <ion-content>
    <ion-list id="menu-list">
      <!--<button ion-item detail-none no-lines menuClose (click)="slideToProfiles()">
        <ion-icon name="home"item-left></ion-icon>
        To Profiles
      </button>-->
      <ion-toolbar>
        <ion-segment [(ngModel)]="settingsPage">
          <ion-segment-button value="personal">
            Personal
          </ion-segment-button>
          <ion-segment-button value="billing">
            Billing
          </ion-segment-button>
          <ion-segment-button value="shipping">
            Shipping
          </ion-segment-button>
        </ion-segment>
      </ion-toolbar>

      <ion-slides [ngSwitch]="settingsPage">
        <ion-slide *ngSwitchCase="'personal'">
          <personal></personal>
        </ion-slide>
        <ion-slide *ngSwitchCase="'billing'">
            <billing></billing>
        </ion-slide>
        <ion-slide *ngSwitchCase="'shipping'">
          <shipping></shipping>
        </ion-slide>
      </ion-slides>
    </ion-list>
    <ion-fab 
      *ngIf="settingsPage === 'shipping'"
      id="add-shipping" 
      bottom 
      right>
      <button ion-fab mini>
        <ion-icon name="add-circle"></ion-icon>
      </button>
    </ion-fab>
    <ion-fab 
      *ngIf="settingsPage === 'billing'"
      id="add-billing" 
      bottom 
      right>
      <button ion-fab mini>
        <ion-icon name="add-circle"></ion-icon>
      </button>
    </ion-fab>
  </ion-content>

  <ion-footer no-padding>
    <button no-margin ion-button icon-right block full menuClose (click)="logout()">
      <ion-icon name="log-out"></ion-icon>
      Logout
    </button>
  </ion-footer>
</ion-menu>

<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>